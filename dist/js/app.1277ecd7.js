(function(t){function e(e){for(var n,o,i=e[0],c=e[1],u=e[2],l=0,m=[];l<i.length;l++)o=i[l],a[o]&&m.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,i=1;i<s.length;i++){var c=s[i];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},a={app:0},r=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("64a9"),a=s.n(n);a.a},"08f6":function(t,e,s){"use strict";var n=s("caf2"),a=s.n(n);a.a},1:function(t,e){},1638:function(t,e,s){},"18de":function(t,e,s){"use strict";var n=s("65e2"),a=s.n(n);a.a},"1a74":function(t,e,s){},"25cf":function(t,e,s){},"3bd3":function(t,e,s){},4860:function(t,e,s){"use strict";var n=s("25cf"),a=s.n(n);a.a},"496e":function(t,e,s){},5519:function(t,e,s){"use strict";var n=s("c404"),a=s.n(n);a.a},"56d7":function(t,e,s){"use strict";s.r(e);var n=s("2b0e"),a=s("2f62");n["a"].use(a["a"]);var r=new a["a"].Store({state:{Cats:[{name:"chat 1",price:20,image:"https://static.wamiz.fr/images/news/medium/handicap-chat-bub-star-web.jpg",stars:4.4,totalReviews:340,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{name:"chat 2",price:40,image:"https://66.media.tumblr.com/ab7088dd0c70708a12f2b35a280f2e0d/tumblr_ouejsoMeh71rq1a16o2_250.jpg",stars:3,totalReviews:30,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{name:"chat 3",price:30,image:"https://static.wamiz.fr/images/news/medium/maru-chat-video-ralenti-08.jpg",stars:2,totalReviews:248,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{name:"chat 4",price:10,image:"https://i.warosu.org/data/sci/img/0090/77/1501685522562.jpg",stars:4.4,totalReviews:340,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{name:"chat 5",price:1e5,image:"https://flavorwire.files.wordpress.com/2014/01/nic-cage-cat.jpg?w=250&h=250&crop=1",stars:3,totalReviews:30,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{name:"chat 6",price:40,image:"https://cdn.drawception.com/images/avatars/636276-FE4.jpg",stars:2,totalReviews:248,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"}],Dogs:[{name:"chien 1",price:50,image:"http://cdn-scraplogo.pearltrees.com/fe/c1/fec121dbed6815dd3951d77f9737cba1-pearlsquare.jpg?v=2",stars:5,totalReviews:310,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{name:"chien 2",price:20,image:"https://avaq.fr/wp-content/uploads/2018/05/sante-chien.png",stars:2.9,totalReviews:42,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{name:"chien 3",price:60,image:"https://www.animauxenligne.com/media/wysiwyg/shampoing-pour-chien.jpg",stars:.5,totalReviews:1,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{name:"chien 4",price:30,image:"https://barkpost-assets.s3.amazonaws.com/wp-content/uploads/2013/11/dogesmall.jpg",stars:5,totalReviews:310,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{name:"chien 5",price:20,image:"https://i0.wp.com/media3.giphy.com/media/fvmz3gCAip1M4/giphy.gif?resize=250%2C250&ssl=1",stars:2.9,totalReviews:42,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{name:"chien 6",price:40,image:"http://78.media.tumblr.com/92cf2270850925373a9a9bd0f28d1b3c/tumblr_nrqy9nGLdP1tdxuggo1_250.jpg",stars:.5,totalReviews:1,details:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"}],cartProducts:[],currentProduct:{},showModal:!1,showPopupCart:!1},getters:{getCats:t=>t.Cats,getDogs:t=>t.Dogs,getCatsAndDogs:t=>t.Cats.concat(t.Dogs),getProductsInCart:t=>t.cartProducts,getCurrentProduct:t=>t.currentProduct,getShowModal:t=>t.showModal,getPopupCart:t=>t.showPopupCart},mutations:{ADD_PRODUCT:(t,e)=>{t.cartProducts.push(e)},REMOVE_PRODUCT:(t,e)=>{t.cartProducts.splice(e,1)},REMOVE_ALL_PRODUCTS:t=>{t.cartProducts=[]},CURRENT_PRODUCT:(t,e)=>{t.currentProduct=e},SHOW_MODAL:t=>{t.showModal=!t.showModal},SHOW_POPUP_CART:t=>{t.showPopupCart=!t.showPopupCart}},actions:{addProduct:(t,e)=>{t.commit("ADD_PRODUCT",e)},removeProduct:(t,e)=>{t.commit("REMOVE_PRODUCT",e)},removeAllProducts:t=>{t.commit("REMOVE_ALL_PRODUCTS")},currentProduct:(t,e)=>{t.commit("CURRENT_PRODUCT",e)},showOrHiddenModal:t=>{t.commit("SHOW_MODAL")},showOrHiddenPopupCart:t=>{t.commit("SHOW_POPUP_CART")}}}),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("listOfProducts",{attrs:{products:t.getCatsAndDogs}})},i=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"listOfProducts"},t._l(t.products,function(e,n){return s("li",{key:n,staticClass:"product"},[s("img",{attrs:{src:e.image,alt:""}}),s("h2",{staticClass:"product-name",on:{click:function(s){t.addCurrentProduct(e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")]),s("div",{staticClass:"product-price"},[s("span",[t._v(t._s(e.price)+",00 €")])]),s("btn",{attrs:{btnColor:"btn btn-large btn-sucess",cartIcon:!0},nativeOn:{click:function(s){t.addProductToCart(e)}}},[t._v("\n      Ajouter\n    ")])],1)}))},u=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:t.btnColor},[t._t("default"),t.cartIcon?n("img",{attrs:{src:s("dd35"),alt:"Cart Icon"}}):t._e()],2)},l=[],m={props:["btnColor","cartIcon"]},p=m,h=(s("08f6"),s("2877")),g=Object(h["a"])(p,d,l,!1,null,"a61d3696",null);g.options.__file="Btn.vue";var f=g.exports,v={props:["products"],components:{btn:f},methods:{...Object(a["b"])(["addProduct","currentProduct"]),addProductToCart(t){this.addProduct(t)},addCurrentProduct(t){this.currentProduct(t)}}},b=v,_=(s("870c"),Object(h["a"])(b,c,u,!1,null,"b4831ed2",null));_.options.__file="ListOfProducts.vue";var C=_.exports,y={components:{listOfProducts:C},computed:{...Object(a["c"])(["getCatsAndDogs"])}},P=y,w=(s("18de"),Object(h["a"])(P,o,i,!1,null,"31db8740",null));w.options.__file="CatsAndDogs.vue";var O=w.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("listOfProducts",{attrs:{products:t.getDogs}})},x=[],k={components:{listOfProducts:C},computed:{...Object(a["c"])(["getDogs"])}},j=k,L=(s("d09e"),Object(h["a"])(j,I,x,!1,null,null,null));L.options.__file="Dogs.vue";var E=L.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("listOfProducts",{attrs:{products:t.getCats}})},D=[],S={components:{listOfProducts:C},computed:{...Object(a["c"])(["getCats"])}},M=S,T=(s("5519"),Object(h["a"])(M,R,D,!1,null,null,null));T.options.__file="Cats.vue";var A=T.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("div",[t._v(t._s(t.message))]),s("br"),t.loggedIn?t._e():s("div",[s("form",[t._v("\n        Identifiant:\n        "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],attrs:{name:"Id"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),s("br"),t._v("\n        Mot de passe:\n        "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",name:"Password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),s("br")]),s("button",{staticClass:"btn btn-info",on:{click:function(e){t.login()}}},[t._v("Se connecter")]),s("button",{staticClass:"btn btn-info",on:{click:function(e){t.register()}}},[t._v("S'inscrire")])]),s("div",[t.loggedIn?s("button",{staticClass:"btn btn-danger",on:{click:function(e){t.logout()}}},[t._v("Logout")]):t._e()])])])},U=[],H=s("bc3a"),z=s.n(H),N=s("04e1"),V=s.n(N),J={name:"SignIn",data(){return{loggedIn:!1,message:null,form:{username:"",password:""}}},methods:{login(){z.a.post("/api/login",this.form).then(t=>{this.message=t.data.message,localStorage.setItem("token",t.data.token),this.form.username="",this.form.password="",this.loggedIn=!0}).catch(t=>{this.message=t.response.data.message})},register(){z.a.post("/api/register",this.form).then(t=>{this.message=t.data.message,localStorage.setItem("token",t.data.token),this.form.username="",this.form.password="",this.loggedIn=!0}).catch(t=>{this.message=t.response.data.message})},logout(){localStorage.removeItem("token"),this.message="Vous avez bien été déconnecté",this.loggedIn=!1},checkExpirationToken(t){const e=Date.now().valueOf()/1e3;if("undefined"!==typeof t.exp&&t.exp<e)throw new Error(`token est expiré : ${JSON.stringify(t)}`);if("undefined"!==typeof t.nbf&&t.nbf>e)throw new Error(`token est expiré : ${JSON.stringify(t)}`)}},created(){const t=localStorage.getItem("token");if(t){const s=V()(t);try{this.checkExpirationToken(s),this.loggedIn=!0}catch(e){this.loggedIn=!1}}else this.loggedIn=!1}},q=J,B=(s("90b3"),Object(h["a"])(q,$,U,!1,null,"3c7d258b",null));B.options.__file="SignIn.vue";var W=B.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"checkout-box"},[s("ul",{staticClass:"checkout-list"},[s("transition-group",{attrs:{name:"fade"}},t._l(t.getProductsInCart,function(e,n){return s("li",{key:n,staticClass:"checkout-product"},[s("img",{staticClass:"product-image",attrs:{src:e.image,alt:""}}),s("h3",{staticClass:"product-name"},[t._v(t._s(e.name))]),s("span",{staticClass:"product-price"},[t._v(t._s(e.price)+",00 € ")]),s("button",{staticClass:"product-remove",on:{click:function(e){t.remove(n)}}},[t._v("X")])])}))],1),t.hasProduct()?t._e():s("div",{staticClass:"checkout-message"},[s("h3",[t._v("Aucun animal n'a été ajouté au panier...")]),s("router-link",{attrs:{to:"./"}},[t._v("Cliquer ici pour retourner au menu principal")])],1),t.message?s("div",{staticClass:"checkout-message"},[s("h3",[t._v(t._s(t.message))])]):t._e(),t.hasProduct()?s("h3",{staticClass:"total"},[t._v("\n    Total: "+t._s(t.totalPrice())+",00 €\n  ")]):t._e(),t.hasProduct()&&t.loggedIn?s("button",{staticClass:"btn btn-info",attrs:{btnColor:"btn btn-small btn-info"},on:{click:function(e){t.validateCommand()}}},[t._v("\n    Confirmer la commande\n  ")]):t._e(),t.hasProduct()&&!t.loggedIn?s("div",[t._v("\n    Vous devez être connecté pour valider votre panier !\n  ")]):t._e()])},G=[],X={data(){return{loggedIn:!1,message:null}},computed:{...Object(a["c"])(["getProductsInCart"])},methods:{...Object(a["b"])(["removeProduct","removeAllProducts"]),hasProduct(){return this.getProductsInCart.length>0},totalPrice(){return this.getProductsInCart.reduce((t,e)=>t+e.price,0)},remove(t){this.removeProduct(t)},validateCommand(){const t=localStorage.getItem("token");z.a.post("/api/submitOrder",{orders:this.getProductsInCart},{headers:{Authorization:"Bearer "+t}}).then(t=>{this.message=t.data.message,this.removeAllProducts()}).catch(t=>{this.message=t.response.data.message})},checkExpirationToken(t){const e=Date.now().valueOf()/1e3;if("undefined"!==typeof t.exp&&t.exp<e)throw new Error(`token est expiré : ${JSON.stringify(t)}`);if("undefined"!==typeof t.nbf&&t.nbf>e)throw new Error(`token est expiré : ${JSON.stringify(t)}`)}},created(){const t=localStorage.getItem("token");if(t){const s=V()(t);try{this.checkExpirationToken(s),this.loggedIn=!0}catch(e){this.loggedIn=!1}}else this.loggedIn=!1}},K=X,Q=(s("9839"),Object(h["a"])(K,F,G,!1,null,"4b455bbe",null));Q.options.__file="CartCheckout.vue";var Y=Q.exports,Z=(s("7f10"),s("f9e3"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("mainMenu",[s("btn",{attrs:{btnColor:"btn btn-small btn-info btn-popup",cartIcon:!0},nativeOn:{click:function(e){t.showPopupCart()}}},[t._v("\n       Panier\n      "),t.hasProduct()?s("span",{staticClass:"btn-circle"},[t._v("\n         "+t._s(t.getProductsInCart.length)+"\n      ")]):t._e()]),s("transition",{attrs:{name:"appear"}},[t.getPopupCart?s("popupcart",{staticClass:"cart"}):t._e()],1)],1),s("transition",{attrs:{name:"leave"}},[s("router-view")],1),t.getPopupCart?s("maskBg",{nativeOn:{click:function(e){t.showPopupCart()}}}):t._e()],1)}),tt=[],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"header"},[s("nav",{staticClass:"nav"},[s("ul",{staticClass:"nav-links"},[s("li",{staticClass:"link"},[s("router-link",{attrs:{to:"/"}},[t._v("Tout voir")])],1),s("li",{staticClass:"link"},[s("router-link",{attrs:{to:"/chiens"}},[t._v("Chiens")])],1),s("li",{staticClass:"link"},[s("router-link",{attrs:{to:"/chats"}},[t._v("Chats")])],1),s("li",{staticClass:"link"},[s("router-link",{attrs:{to:"/signIn"}},[t._v("Login")])],1)])]),t._t("default")],2)},st=[],nt={},at=nt,rt=(s("4860"),Object(h["a"])(at,et,st,!1,null,"6a169fba",null));rt.options.__file="Menu.vue";var ot=rt.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[t.hasProduct()?t._e():s("span",[t._v("Aucun ajout :/")]),t._l(t.getProductsInCart,function(e,n){return s("div",{key:n,staticClass:"box-item"},[s("img",{staticClass:"item-thumb",attrs:{src:e.image,alt:""}}),s("h3",{staticClass:"item-name"},[t._v(t._s(e.name))]),s("span",{staticClass:"item-amount"},[t._v("Prix:")]),s("span",{staticClass:"item-price"},[t._v(t._s(e.price)+",00 €")])])}),t.hasProduct()?s("div",{staticClass:"cart-info"},[s("span",[t._v("Total: "+t._s(t.totalPrice())+",00 €")]),s("router-link",{attrs:{to:"/checkout"}},[s("btn",{attrs:{btnColor:"btn btn-small btn-info"},nativeOn:{click:function(e){t.showPopupCart()}}},[t._v("\n        Voir panier\n      ")])],1)],1):t._e()],2)},ct=[],ut={components:{btn:f},methods:{...Object(a["b"])(["showOrHiddenPopupCart"]),hasProduct(){return this.getProductsInCart.length>0},totalPrice(){return this.getProductsInCart.reduce((t,e)=>t+e.price,0)},showPopupCart(){this.showOrHiddenPopupCart()}},computed:{...Object(a["c"])(["getProductsInCart"])}},dt=ut,lt=(s("6526"),Object(h["a"])(dt,it,ct,!1,null,"2fcec05d",null));lt.options.__file="Popupcart.vue";var mt=lt.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mask"})},ht=[],gt={},ft=gt,vt=(s("5893"),Object(h["a"])(ft,pt,ht,!1,null,"516c02ef",null));vt.options.__file="Mask.vue";var bt=vt.exports,_t={components:{mainMenu:ot,btn:f,popupcart:mt,maskBg:bt},methods:{...Object(a["b"])(["showOrHiddenPopupCart"]),hasProduct(){return this.getProductsInCart.length>0},showPopupCart(){this.showOrHiddenPopupCart()}},computed:{...Object(a["c"])(["getProductsInCart","getPopupCart"])}},Ct=_t,yt=(s("034f"),Object(h["a"])(Ct,Z,tt,!1,null,null,null));yt.options.__file="App.vue";var Pt=yt.exports,wt=s("28dd"),Ot=s("8c4f");n["a"].use(wt["a"]),n["a"].use(Ot["a"]);const It=[{path:"",name:"CatsAndDogs",component:O},{path:"/chiens",name:"Dogs",component:E},{path:"/chats",name:"Cats",component:A},{path:"/checkout",name:"Checkout",component:Y},{path:"/signIn",name:"SignIn",component:W}],xt=new Ot["a"]({routes:It});new n["a"]({el:"#app",router:xt,store:r,render:t=>t(Pt)})},5893:function(t,e,s){"use strict";var n=s("1a74"),a=s.n(n);a.a},"64a9":function(t,e,s){},6526:function(t,e,s){"use strict";var n=s("3bd3"),a=s.n(n);a.a},"65e2":function(t,e,s){},"67bc":function(t,e,s){},"870c":function(t,e,s){"use strict";var n=s("ebc2"),a=s.n(n);a.a},"90b3":function(t,e,s){"use strict";var n=s("1638"),a=s.n(n);a.a},9839:function(t,e,s){"use strict";var n=s("496e"),a=s.n(n);a.a},c404:function(t,e,s){},caf2:function(t,e,s){},d09e:function(t,e,s){"use strict";var n=s("67bc"),a=s.n(n);a.a},dd35:function(t,e,s){t.exports=s.p+"img/cart.9a013a2f.svg"},ebc2:function(t,e,s){}});
//# sourceMappingURL=app.1277ecd7.js.map